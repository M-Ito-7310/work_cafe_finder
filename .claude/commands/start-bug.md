# Bug 修正開始コマンド

指定された Bug チケットの修正作業を開始します。

## 使用方法
```
/start-bug [bug番号]
```

例: `/start-bug 1` → bug-001 の修正を開始

## 実行手順

### 1. Bug チケットの読み込み
`docs/ticket/bug/` ディレクトリから該当するチケットファイルを検索します：
- パターン: `bug-[番号3桁]*.md`
- 例: `bug-001-map-display-slow.md`

### 2. Bug 情報の表示
チケットの内容を表示します：
```markdown
## 🐛 Bug #1: 地図の表示が遅い

**Priority**: High
**Created**: 2025-10-23

**問題の説明**:
地図の初期表示に10秒以上かかる。カフェマーカーが多い場合、さらに遅延が発生する。

**再現手順**:
1. /map にアクセス
2. 地図が表示されるまで待つ
3. 10秒以上かかることを確認

修正作業を開始しますか？ (y/n)
```

### 3. ユーザー確認
- `y` の場合: 続行
- `n` の場合: 処理を中断

### 4. ステータスの更新
Bug チケットのステータスを更新します：
```markdown
- 🟡 **Status**: In Progress
- **Started**: 2025-10-23 14:30
```

### 5. PROGRESS.md の更新
`docs/ticket/bug/PROGRESS.md` を更新：
- 該当 Bug を「進行中」セクションに移動
- 開始日時を記録
- 進捗率を再計算

### 6. Git コミット（ステータス更新）
チケットのステータス更新をコミット：
```bash
git add docs/ticket/bug/
git commit -m "チケット更新: bug-001 修正開始"
```

### 7. 修正作業の実施
Bug の内容に基づいて修正を実行します：
1. 問題箇所の特定
2. コードの修正
3. TypeScript コンパイルエラーの確認
4. ESLint エラーの確認

### 8. テストケースの実行
チケットに記載されたテストケースを実行：
```markdown
## テストケース
- [ ] 地図表示が3秒以内に完了すること
- [ ] カフェマーカーが正しく表示されること
- [ ] パフォーマンスが改善されていること
```

### 9. localhost での動作確認依頼
```
修正が完了しました。以下を確認してください:

1. npm run dev で開発サーバーを起動
2. http://localhost:3000/map にアクセス
3. 地図の表示速度が改善されていることを確認
4. カフェマーカーが正しく表示されることを確認

動作確認が完了したら、以下のコマンドで Bug を完了としてください:
/complete-bug 1
```

## 重要事項
- **必ず localhost での動作確認を求めること**
- 問題が解決されているか確認すること
- TypeScript と ESLint のエラーがないことを確認すること
- テストケースをすべてクリアすること
- 修正内容はチケットに記録すること（コミット前）
- ステータスを「Complete」にするのは `/complete-bug` コマンドで実施

## エラー時の対応
- Bug 番号が見つからない場合: エラーメッセージを表示し、利用可能な Bug 一覧を表示
- 既に進行中の Bug がある場合: 警告を表示（複数同時進行も許可）
- 既に完了している Bug の場合: 警告を表示し、再開するか確認
