# Phase 完了コマンド

指定された Phase の受入テストを完了し、ステータスを「完了」に更新します。

## 使用方法
```
/complete-phase [phase番号]
```

例: `/complete-phase 7` → Phase 7 を完了

## 実行手順

### 1. Phase チケットの読み込み
`docs/ticket/initial/phase-[番号]-[名前].md` ファイルを読み込みます。

例: `docs/ticket/initial/phase-07-cafe-display.md`

### 2. ステータス確認
Phase チケットのステータスが「受入テスト待ち」または「進行中」であることを確認します。
- すでに完了している場合は、エラーメッセージを表示
- 未着手の場合は、エラーメッセージを表示

### 3. 受入テスト結果の確認
ユーザーに受入テストの結果を確認します：
```markdown
## 受入テスト確認

以下の項目がすべて完了していることを確認してください：
- [ ] カフェマーカーが地図上に表示される
- [ ] 鮮度に応じてマーカー色が変わる（緑/黄/グレー）
- [ ] マーカークリックでモーダルが開く
- [ ] カフェ詳細が正しく表示される
- [ ] 投稿履歴が新しい順に表示される
- [ ] モーダルを閉じることができる
- [ ] TypeScript エラーなし
- [ ] ESLint エラーなし

すべての項目が完了している場合、Phaseを完了します。
```

### 4. Phase チケットの更新
Phase チケットのステータスを「完了」に更新します：
```markdown
- ✅ **Status**: Complete
- **完了日**: 2025-10-24
```

### 5. 受入テスト項目にチェック
受入テスト項目をすべて完了済みに更新します。

### 6. PROGRESS.md の更新
`docs/ticket/initial/PROGRESS.md` を更新：
- 該当 Phase を「完了」セクションに移動
- 完了日時を記録
- 進捗率を再計算
- 完了フェーズ数をインクリメント

### 7. Git コミット
チケット更新をコミットします：
```bash
git add docs/ticket/initial/
git commit -m "チケット完了: Phase 7 - カフェ表示機能

受入テスト完了:
- カフェマーカー表示確認
- モーダル表示確認
- 投稿履歴表示確認
- レスポンシブデザイン確認
- TypeScript/ESLintエラーなし"
```

### 8. 次のPhaseの提案
次に実装すべきPhaseを提案します：
```markdown
## 次のステップ

Phase 7 が完了しました！

次のPhaseの提案:
- Phase 8: 投稿システム
  - 投稿フォーム実装
  - カフェ検索機能
  - 投稿バリデーション

次のPhaseを開始する場合は、`/start-phase 8` コマンドを実行してください。
```

## 重要事項
- **受入テストが完了していることを確認すること**
- localhost での動作確認が完了していること
- TypeScript と ESLint のエラーがないこと
- すべての実装タスクが完了していること
- 実装コミットが完了していること

## エラー時の対応
- Phase 番号が見つからない場合: エラーメッセージを表示し、利用可能な Phase 一覧を表示
- すでに完了している Phase の場合: 警告を表示
- 受入テスト待ちでない場合: エラーメッセージを表示し、先に実装を完了させることを推奨
