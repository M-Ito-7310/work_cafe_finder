# チケット作成コマンド

ユーザーからの報告内容に基づいて、適切なカテゴリのチケットを作成します。

## 実行手順

### 1. 内容の把握
ユーザーからの報告内容を読み取り、以下のカテゴリに分類します：

- **Bug（バグ）**: エラー、不具合、動作不良に関するもの
  - キーワード例: "エラー"、"バグ"、"動かない"、"壊れている"、"表示されない"
- **Feature（機能追加）**: 新機能、新しい要素の追加に関するもの
  - キーワード例: "追加"、"実装"、"新機能"、"欲しい"、"できない"
- **Enhancement（改善）**: 既存機能の改善、最適化、リファクタリングに関するもの
  - キーワード例: "改善"、"最適化"、"リファクタリング"、"もっと"、"見やすく"

### 2. 優先度の判断
報告内容から自動的に優先度を判断します：

**Bug の場合**:
- **Critical**: システムダウン、データ損失、セキュリティ脆弱性
- **High**: 主要機能の動作不良、認証エラー
- **Medium**: 一部機能の不具合
- **Low**: UI の微細な問題、表示崩れ

**Feature の場合**:
- **High**: MVP に必須の機能
- **Medium**: ユーザビリティ向上に寄与
- **Low**: あると便利な機能

**Enhancement の場合**:
- **Performance**: パフォーマンス改善
- **Refactoring**: コード品質向上
- **UX**: ユーザー体験改善
- **Security**: セキュリティ強化
- **Code Quality**: コード品質改善

### 3. ファイル名の自動生成
説明文から適切なファイル名を生成します：
- 日本語の場合: ローマ字に変換
- スペースやハイフンで区切る
- 小文字に統一
- 例: "地図の表示が遅い" → "map-display-slow"

### 4. ユーザー確認
生成した内容をユーザーに提示し、確認を求めます：
```
以下の内容でチケットを作成します：

カテゴリ: Bug
優先度: High
ファイル名: bug-001-map-display-slow.md
タイトル: 地図の表示が遅い

内容でよろしいですか？ (y/n)
```

### 5. チケットファイル作成
承認後、適切なテンプレートを使用してチケットファイルを作成します。

#### Bug テンプレート
```markdown
# Bug #XXX: [タイトル]

## ステータス
- 🔴 **Status**: Unstarted
- **Priority**: [Critical/High/Medium/Low]
- **Created**: YYYY-MM-DD
- **Started**: -
- **Completed**: -

## 問題の説明
[ユーザーからの報告内容]

## 再現手順
1. [手順を記載]

## 期待される動作
[正しい動作の説明]

## 実際の動作
[現在の不具合の説明]

## 環境
- ブラウザ:
- OS:
- バージョン:

## 修正内容
[修正後に記載]

## テストケース
- [ ] 再現手順で問題が解消されることを確認
- [ ] 関連機能に影響がないことを確認
- [ ] ブラウザでの動作確認

## コミット
- 修正: `[コミットハッシュ]`
- チケット更新: `[コミットハッシュ]`
```

#### Feature テンプレート
```markdown
# Feature #XXX: [タイトル]

## ステータス
- 🔴 **Status**: Unstarted
- **Priority**: [High/Medium/Low]
- **Created**: YYYY-MM-DD
- **Started**: -
- **Completed**: -

## 機能概要
[機能の説明]

## 要件
- [要件1]
- [要件2]

## UI/UX 仕様
[画面設計、インタラクションの説明]

## 技術仕様
- **使用技術**:
- **API エンドポイント**:
- **データモデル**:

## 実装チェックリスト
- [ ] コンポーネント作成
- [ ] API ルート作成
- [ ] データベーススキーマ更新（必要な場合）
- [ ] UI 実装
- [ ] バリデーション実装
- [ ] エラーハンドリング
- [ ] レスポンシブ対応
- [ ] ブラウザでの動作確認
- [ ] テストケース作成

## テストケース
- [ ] 基本機能が動作すること
- [ ] エラーケースで適切に処理されること
- [ ] モバイルで正常に表示されること

## コミット
- 実装: `[コミットハッシュ]`
- チケット更新: `[コミットハッシュ]`
```

#### Enhancement テンプレート
```markdown
# Enhancement #XXX: [タイトル]

## ステータス
- 🔴 **Status**: Unstarted
- **Category**: [Performance/Refactoring/UX/Security/Code Quality]
- **Priority**: Medium
- **Created**: YYYY-MM-DD
- **Started**: -
- **Completed**: -

## 改善内容
[改善の説明]

## 現状の課題
[Before: 現在の状態]

## 改善後の状態
[After: 改善後の期待値]

## 実装方針
- [アプローチ1]
- [アプローチ2]

## 影響範囲
- **影響を受けるコンポーネント**:
- **影響を受けるAPI**:
- **データベース変更**: [あり/なし]

## 実装チェックリスト
- [ ] 実装完了
- [ ] 既存機能への影響確認
- [ ] パフォーマンス測定（該当する場合）
- [ ] ブラウザでの動作確認
- [ ] コードレビュー

## テストケース
- [ ] 改善が反映されていること
- [ ] 既存機能が正常に動作すること
- [ ] パフォーマンスが向上していること（該当する場合）

## コミット
- 実装: `[コミットハッシュ]`
- チケット更新: `[コミットハッシュ]`
```

### 6. PROGRESS.md 更新
該当カテゴリの `PROGRESS.md` にチケット情報を追加します。

### 7. Git コミット
チケット作成をコミットします：
```bash
git add docs/ticket/[category]/
git commit -m "チケット作成: [category]-XXX [タイトル]"
```

## 重要事項
- 必ずユーザーの承認を得てから作成すること
- テンプレートに厳密に従うこと
- 番号は既存チケットから自動採番（3桁ゼロパディング）
- 作成後は必ず PROGRESS.md を更新すること
