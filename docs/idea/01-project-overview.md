# Project Overview

## プロジェクト名
**WorkCafeFinder (ワークカフェファインダー)**

別名: CafeWorkRadar / NomadSpot

## 概要
WorkCafeFinderは、「今、作業（勉強）できるカフェ」を探すことに特化したマップアプリケーションです。ユーザー参加型（CGM）により、リアルタイムな情報（空席状況、静かさ、Wi-Fi速度、電源席の有無）を共有し、フリーランスやノマドワーカー、学生などが最適な作業環境を素早く見つけられるプラットフォームを提供します。

## プロジェクトの目的
- フリーランス・ノマドワーカー・学生の「カフェで作業したい」ニーズに応える
- 大手マップアプリでは分からない「今の混雑状況」「静けさ」「Wi-Fi速度」などのリアルタイム情報を提供
- ユーザー参加型（CGM）により情報の鮮度を保ち、コミュニティ感を醸成
- 交流会でデモ可能な、実用性の高いポートフォリオとして開発

## ターゲットユーザー

### プライマリーターゲット
- **フリーランス・ノマドワーカー**: カフェで仕事をする習慣がある人
- **学生**: カフェで勉強したい人、試験期間中の作業場所を探している人
- **リモートワーカー**: 自宅以外の作業場所を探している人

### セカンダリーターゲット
- **カフェオーナー**: 作業しやすい環境をアピールしたい店舗経営者
- **コワーキングスペース運営者**: 利用促進のための情報発信

## なぜ今このサービスが必要か

### 市場背景
1. **フリーランス・ノマドワーカーの増加**: リモートワークの普及により、カフェで作業する人が増加
2. **既存マップアプリの限界**: Google MapsやYelpでは「今の混雑状況」「静けさ」「Wi-Fi速度」までは分からない
3. **情報の鮮度が重要**: 「30分前は空席だったのに満席」という問題を解決する必要がある

### 差別化ポイント
- **リアルタイム性**: 3時間以内の新鮮な情報のみを表示
- **作業環境に特化**: 空席、静かさ、Wi-Fi、電源という作業に必須の4要素に絞った情報
- **ユーザー参加型**: コミュニティの力で情報を維持・更新

## 主要機能（MVP）

### 1. 地図表示・現在地取得
- Leaflet + OpenStreetMapによるマップ表示
- GPS現在地取得
- カフェをピンで表示

### 2. カフェ情報閲覧
- マップ上のピンをタップして詳細表示
- 投稿された情報（空席、静かさ、Wi-Fi、電源）の表示
- 投稿時刻と鮮度の表示

### 3. カフェ情報投稿（認証ユーザーのみ）
- **空席状況**: あり / 混雑 / なし (3択)
- **静かさ**: 静か / 普通 / にぎやか (3択)
- **Wi-Fi**: 速い / 普通 / 遅い / なし (4択)
- **電源席**: あり / なし (2択)
- **投稿時刻**: 自動記録
- **コメント**: オプション (50文字程度)

### 4. フィルタリング機能
- 「空席あり」のみ表示
- 「静か」のみ表示
- 「Wi-Fi速い」のみ表示
- 「電源席あり」のみ表示

### 5. 情報の鮮度管理
- **3時間以内**: 通常色で表示（例:「15分前の情報」）
- **3〜24時間以内**: グレーアウトし「6時間前の古い情報です」と表示
- **24時間以上**: マップから非表示（履歴としては保持）

### 6. 認証機能
- NextAuth.jsによるソーシャルログイン（Google/X）
- メールアドレス・パスワード登録は不要（ハードル低減）
- 投稿には認証が必須（スパム防止）

## 技術スタック

### フロントエンド
- **Next.js 14** (App Router) - React Server Components対応
- **TypeScript** - 型安全性の確保
- **Tailwind CSS** - モダンなスタイリング
- **Leaflet** - オープンソース地図ライブラリ（コスト無料）
- **react-leaflet** - React統合

### バックエンド・データベース
- **Next.js API Routes** (App Router) - サーバーレスAPI
- **Neon PostgreSQL** - サーバーレスPostgreSQL（無料枠あり）
- **Drizzle ORM** - 軽量で高速なORM（コールドスタート最適化）

### 認証
- **NextAuth.js** - 認証・認可フレームワーク
- **Google OAuth** / **X (Twitter) OAuth** - ソーシャルログイン

### デプロイ・インフラ
- **Vercel** - Next.jsに最適化されたホスティング、自動CI/CD
- **OpenStreetMap** - 無料の地図データ

## プロジェクト制約

### MVPスコープ
- **認証**: ソーシャルログインのみ（メール登録なし）
- **地図**: Leafletのみ（Google Maps APIは使用しない）
- **情報更新**: ポーリング方式（WebSocket/SSEは使用しない）
- **レスポンシブ**: モバイルファースト（スマホユーザー向け）

### 開発方針
- **シンプルさ優先**: 最小限の機能で動作するプロトタイプ
- **コスト最小化**: 無料枠内で運用可能な技術選定
- **デモ効果最大化**: 交流会で「刺さる」体験を提供

## 成果物

### 1. 動作するWebアプリケーション
- Vercelでデプロイされた公開URL
- スマホでアクセス可能なPWA対応（将来的）
- ソーシャルログインで投稿可能
- リアルタイムな作業カフェ情報の閲覧・投稿

### 2. 技術ドキュメント
- プロジェクト概要
- アーキテクチャ設計
- 機能仕様書
- データベーススキーマ
- 地図統合ガイド

### 3. ソースコード
- GitHubリポジトリ
- TypeScriptでの型安全な実装
- コメント付きのわかりやすいコード

## 開発スケジュール（想定）

### Phase 1: セットアップ (1日)
- Next.jsプロジェクト初期化
- 環境構築
- Neon PostgreSQL接続設定
- Drizzle ORMセットアップ

### Phase 2: 認証機能 (1日)
- NextAuth.js設定
- Google/X OAuth設定
- ユーザーテーブル作成

### Phase 3: 地図表示 (1-2日)
- Leaflet統合
- OpenStreetMap背景地図
- 現在地取得（GPS）
- カフェピン表示

### Phase 4: データ投稿・閲覧 (2-3日)
- カフェデータテーブル
- 投稿APIルート
- 投稿フォームUI
- 詳細表示UI

### Phase 5: フィルタリング・鮮度管理 (1-2日)
- フィルタリングロジック
- 鮮度判定ロジック
- UI表示切り替え

### Phase 6: 仕上げ・デプロイ (1日)
- UI/UX調整
- デモ用データ投入（交流会会場周辺のカフェ）
- Vercelデプロイ
- 最終動作確認

**合計: 7-10日程度**

## デモ戦略

### 交流会での効果的なデモ方法
1. **事前準備**: 交流会会場周辺のカフェ5〜10件を手動登録
2. **リアルタイム感**: 「今、この会場の近くで…」と実際の位置情報を使用
3. **投稿体験**: その場で「この会場は静か/Wi-Fi速い」などを投稿してもらう
4. **ストーリー**: 「フリーランス仲間が欲しがっていた機能を形にしました」と共感を得る

## 想定されるクライアント/紹介先

### 直接的なマネタイズ先
- **カフェ・飲食チェーン店**: 店舗情報の掲載、クーポン発行
- **コワーキングスペース運営会社**: プレミアムプラン、広告掲載

### 間接的な紹介先
- **地域情報ポータルサイト運営企業**: 地域振興、観光促進
- **不動産・オフィス関連企業**: 周辺情報サービスとしての提供

## 将来的な拡張案（スコープ外）

### 機能拡張
- お気に入りカフェの保存
- カフェレビュー・評価機能
- 作業時間の記録・統計
- 友達との位置共有
- プッシュ通知（お気に入りカフェの空席情報）

### 技術拡張
- PWA化（オフライン対応）
- WebSocket（リアルタイム更新）
- AI推薦機能（好みに合ったカフェ推薦）
- 多言語対応

### ビジネス拡張
- カフェオーナー向け管理画面
- 広告プラットフォーム
- サブスクリプションモデル（プレミアム機能）

## 参考プロジェクト
- **nocode-ui-builder**: Neon + Drizzle ORMの実装参考
- **CodeNest**: NextAuth.js認証、Neon PostgreSQLの実装参考
- **BlueprintHub**: フルスタックNext.jsプロジェクトの構成参考
